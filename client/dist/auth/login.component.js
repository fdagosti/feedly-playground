"use strict";var __decorate=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},core_1=require("@angular/core"),authentication_service_1=require("./authentication.service"),LoginComponent=function(){function e(e){this.auth=e}return e.prototype.ngOnInit=function(){this.profile=this.auth.currentUser()},e.prototype.logout=function(){this.auth.logout(),this.profile=null},e.prototype.register=function(){var e=this;this.auth.login(this.token).then(function(t){e.error="",e.profile=t},function(t){401===t.errorCode?e.error="wrong Authentication Token":e.error="Error"})},e=__decorate([core_1.Component({selector:"feedly-login",template:'\n\n<h2>Login</h2>\n<div role="alert" [hidden]="!error" class="alert alert-danger">{{error}}</div>\n<div *ngIf="profile">\n  <p>Current Profile: {{profile.fullName}}</p>\n  <button class="btn btn-primary" (click)="logout()" >Logout</button>\n</div>\n<form *ngIf="!profile" (submit)="register()">\n    \n  <div class="form-group">\n    <label for="exampleInputPassword1">Dev Token</label>\n    <input type="text" [(ngModel)]="token" name="token" class="form-control" id="exampleInputPassword1" placeholder="Development Token">\n    <div class="form-text text-muted">You can request a dev token <a target="_blank" href="https://feedly.com/v3/auth/dev">here</a></div>\n  </div>\n\n  <button type="submit" class="btn btn-primary">Submit</button>\n</form>\n  '}),__metadata("design:paramtypes",[authentication_service_1.AuthService])],e)}();exports.LoginComponent=LoginComponent;